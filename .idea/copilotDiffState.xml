<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/lib/api/meetings.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/api/meetings.ts" />
              <option name="originalContent" value="import { apiRequest } from './client';&#10;import { Meeting, MeetingConfig, Decision, ActionItem, AgendaItem, DiscussionItem, RiskItem } from '@/types';&#10;&#10;// Backend types (snake_case)&#10;export type BackendMeeting = {&#10;    id: string;&#10;    title: string;&#10;    date: string;&#10;    start_time: string;&#10;    end_time: string;&#10;    platform: string;&#10;    location: string;&#10;    department: string[];&#10;    meeting_type: string;&#10;    called_by: string;&#10;    facilitator: string;&#10;    minute_taker: string;&#10;    participants: string[];&#10;    absent: string[];&#10;    status: string;&#10;&#10;    // Structured sections&#10;    purpose: string;&#10;    agenda: BackendAgendaItem[];&#10;    discussion: BackendDiscussionItem[];&#10;    decisions: BackendDecision[];&#10;    action_items: BackendActionItem[];&#10;    risks: BackendRiskItem[];&#10;    attachments: string[];&#10;&#10;    created_by: string;&#10;    created_at: string;&#10;    updated_at: string;&#10;};&#10;&#10;export type BackendAgendaItem = {&#10;    id: string;&#10;    topic: string;&#10;    presenter: string;&#10;    duration: string;&#10;    notes?: string;&#10;};&#10;&#10;export type BackendDiscussionItem = {&#10;    id: string;&#10;    topic: string;&#10;    speaker: string;&#10;    points: string[];&#10;    timestamp?: string;&#10;};&#10;&#10;export type BackendDecision = {&#10;    id: string;&#10;    topic: string;&#10;    decision: string;&#10;    rationale?: string;&#10;    voted: string[];&#10;    opposed: string[];&#10;    abstained: string[];&#10;};&#10;&#10;export type BackendActionItem = {&#10;    id: string;&#10;    item: string;&#10;    owner: string;&#10;    due_date: string;&#10;    status: string;&#10;    priority: string;&#10;};&#10;&#10;export type BackendRiskItem = {&#10;    id: string;&#10;    risk: string;&#10;    impact: string;&#10;    likelihood: string;&#10;    mitigation: string;&#10;    owner: string;&#10;};&#10;&#10;export type BackendMeetingCreate = Omit&lt;BackendMeeting, 'id' | 'created_at' | 'updated_at'&gt;;&#10;export type BackendMeetingUpdate = Partial&lt;BackendMeetingCreate&gt;;&#10;&#10;export type BackendMeetingConfig = {&#10;    id: string;&#10;    notifications: {&#10;        before_meeting: boolean;&#10;        before_meeting_time: number;&#10;        after_meeting: boolean;&#10;        action_items_due: boolean;&#10;        decision_follow_up: boolean;&#10;    };&#10;    automation: {&#10;        auto_create_tasks: boolean;&#10;        task_priority: string;&#10;        default_assignee: string;&#10;        sync_with_calendar: boolean;&#10;    };&#10;    templates: {&#10;        default_template: string;&#10;        custom_templates: string[];&#10;    };&#10;};&#10;&#10;// Mapping functions&#10;export function mapBackendMeeting(m: BackendMeeting): Meeting {&#10;    return {&#10;        id: m.id,&#10;        title: m.title,&#10;        date: m.date,&#10;        startTime: m.start_time,&#10;        endTime: m.end_time,&#10;        platform: m.platform,&#10;        location: m.location,&#10;        department: m.department,&#10;        meetingType: m.meeting_type,&#10;        calledBy: m.called_by,&#10;        facilitator: m.facilitator,&#10;        minuteTaker: m.minute_taker,&#10;        participants: m.participants,&#10;        absent: m.absent,&#10;        status: m.status as Meeting['status'],&#10;&#10;        purpose: m.purpose,&#10;        agenda: m.agenda?.map(mapBackendAgendaItem) || [],&#10;        discussion: m.discussion?.map(mapBackendDiscussionItem) || [],&#10;        decisions: m.decisions?.map(mapBackendDecision) || [],&#10;        actionItems: m.action_items?.map(mapBackendActionItem) || [],&#10;        risks: m.risks?.map(mapBackendRiskItem) || [],&#10;        attachments: m.attachments || [],&#10;&#10;        createdBy: m.created_by,&#10;        createdAt: m.created_at,&#10;        updatedAt: m.updated_at,&#10;    };&#10;}&#10;&#10;export function mapBackendAgendaItem(a: BackendAgendaItem): AgendaItem {&#10;    return {&#10;        id: a.id,&#10;        topic: a.topic,&#10;        presenter: a.presenter,&#10;        duration: a.duration,&#10;        notes: a.notes,&#10;    };&#10;}&#10;&#10;export function mapBackendDiscussionItem(d: BackendDiscussionItem): DiscussionItem {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        speaker: d.speaker,&#10;        points: d.points,&#10;        timestamp: d.timestamp,&#10;    };&#10;}&#10;&#10;export function mapBackendDecision(d: BackendDecision): Decision {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        decision: d.decision,&#10;        rationale: d.rationale,&#10;        voted: d.voted,&#10;        opposed: d.opposed,&#10;        abstained: d.abstained,&#10;    };&#10;}&#10;&#10;export function mapBackendActionItem(a: BackendActionItem): ActionItem {&#10;    return {&#10;        id: a.id,&#10;        item: a.item,&#10;        owner: a.owner,&#10;        dueDate: a.due_date,&#10;        status: a.status as ActionItem['status'],&#10;        priority: a.priority as ActionItem['priority'],&#10;    };&#10;}&#10;&#10;export function mapBackendRiskItem(r: BackendRiskItem): RiskItem {&#10;    return {&#10;        id: r.id,&#10;        risk: r.risk,&#10;        impact: r.impact as RiskItem['impact'],&#10;        likelihood: r.likelihood as RiskItem['likelihood'],&#10;        mitigation: r.mitigation,&#10;        owner: r.owner,&#10;    };&#10;}&#10;&#10;export function mapBackendMeetingConfig(c: BackendMeetingConfig): MeetingConfig {&#10;    return {&#10;        id: c.id,&#10;        notifications: {&#10;            beforeMeeting: c.notifications.before_meeting,&#10;            beforeMeetingTime: c.notifications.before_meeting_time,&#10;            afterMeeting: c.notifications.after_meeting,&#10;            actionItemsDue: c.notifications.action_items_due,&#10;            decisionFollowUp: c.notifications.decision_follow_up,&#10;        },&#10;        automation: {&#10;            autoCreateTasks: c.automation.auto_create_tasks,&#10;            taskPriority: c.automation.task_priority,&#10;            defaultAssignee: c.automation.default_assignee,&#10;            syncWithCalendar: c.automation.sync_with_calendar,&#10;        },&#10;        templates: {&#10;            defaultTemplate: c.templates.default_template,&#10;            customTemplates: c.templates.custom_templates,&#10;        },&#10;    };&#10;}&#10;&#10;// Frontend to Backend mapping&#10;export function mapFrontendToBackendMeetingCreate(m: Partial&lt;Meeting&gt;): BackendMeetingCreate {&#10;    return {&#10;        title: m.title || '',&#10;        date: m.date || new Date().toISOString().split('T')[0],&#10;        start_time: m.startTime || '09:00',&#10;        end_time: m.endTime || '10:00',&#10;        platform: m.platform || '',&#10;        location: m.location || '',&#10;        department: m.department || [],&#10;        meeting_type: m.meetingType || '',&#10;        called_by: m.calledBy || '',&#10;        facilitator: m.facilitator || '',&#10;        minute_taker: m.minuteTaker || '',&#10;        participants: m.participants || [],&#10;        absent: m.absent || [],&#10;        status: (m.status as any) || 'Scheduled',&#10;&#10;        purpose: m.purpose || '',&#10;        agenda: m.agenda?.map(mapFrontendToBackendAgendaItem) || [],&#10;        discussion: m.discussion?.map(mapFrontendToBackendDiscussionItem) || [],&#10;        decisions: m.decisions?.map(mapFrontendToBackendDecision) || [],&#10;        action_items: m.actionItems?.map(mapFrontendToBackendActionItem) || [],&#10;        risks: m.risks?.map(mapFrontendToBackendRiskItem) || [],&#10;        attachments: m.attachments || [],&#10;&#10;        created_by: m.createdBy || '',&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendMeetingUpdate(m: Partial&lt;Meeting&gt;): BackendMeetingUpdate {&#10;    const payload: BackendMeetingUpdate = {};&#10;&#10;    if (m.title !== undefined) payload.title = m.title;&#10;    if (m.date !== undefined) payload.date = m.date;&#10;    if (m.startTime !== undefined) payload.start_time = m.startTime;&#10;    if (m.endTime !== undefined) payload.end_time = m.endTime;&#10;    if (m.platform !== undefined) payload.platform = m.platform;&#10;    if (m.location !== undefined) payload.location = m.location;&#10;    if (m.department !== undefined) payload.department = m.department;&#10;    if (m.meetingType !== undefined) payload.meeting_type = m.meetingType;&#10;    if (m.calledBy !== undefined) payload.called_by = m.calledBy;&#10;    if (m.facilitator !== undefined) payload.facilitator = m.facilitator;&#10;    if (m.minuteTaker !== undefined) payload.minute_taker = m.minuteTaker;&#10;    if (m.participants !== undefined) payload.participants = m.participants;&#10;    if (m.absent !== undefined) payload.absent = m.absent;&#10;    if (m.status !== undefined) payload.status = m.status as any;&#10;    if (m.purpose !== undefined) payload.purpose = m.purpose;&#10;    if (m.agenda !== undefined) payload.agenda = m.agenda?.map(mapFrontendToBackendAgendaItem) || [];&#10;    if (m.discussion !== undefined) payload.discussion = m.discussion?.map(mapFrontendToBackendDiscussionItem) || [];&#10;    if (m.decisions !== undefined) payload.decisions = m.decisions?.map(mapFrontendToBackendDecision) || [];&#10;    if (m.actionItems !== undefined) payload.action_items = m.actionItems?.map(mapFrontendToBackendActionItem) || [];&#10;    if (m.risks !== undefined) payload.risks = m.risks?.map(mapFrontendToBackendRiskItem) || [];&#10;    if (m.attachments !== undefined) payload.attachments = m.attachments || [];&#10;&#10;    return payload;&#10;}&#10;&#10;// Helper mapping functions for sub-items&#10;export function mapFrontendToBackendAgendaItem(a: AgendaItem): BackendAgendaItem {&#10;    return {&#10;        id: a.id,&#10;        topic: a.topic,&#10;        presenter: a.presenter,&#10;        duration: a.duration,&#10;        notes: a.notes,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendDiscussionItem(d: DiscussionItem): BackendDiscussionItem {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        speaker: d.speaker,&#10;        points: d.points,&#10;        timestamp: d.timestamp,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendDecision(d: Decision): BackendDecision {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        decision: d.decision,&#10;        rationale: d.rationale,&#10;        voted: d.voted,&#10;        opposed: d.opposed,&#10;        abstained: d.abstained,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendActionItem(a: ActionItem): BackendActionItem {&#10;    return {&#10;        id: a.id,&#10;        item: a.item,&#10;        owner: a.owner,&#10;        due_date: a.dueDate,&#10;        status: a.status,&#10;        priority: a.priority,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendRiskItem(r: RiskItem): BackendRiskItem {&#10;    return {&#10;        id: r.id,&#10;        risk: r.risk,&#10;        impact: r.impact,&#10;        likelihood: r.likelihood,&#10;        mitigation: r.mitigation,&#10;        owner: r.owner,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendMeetingConfig(c: MeetingConfig): BackendMeetingConfig {&#10;    return {&#10;        id: c.id,&#10;        notifications: {&#10;            before_meeting: c.notifications.beforeMeeting,&#10;            before_meeting_time: c.notifications.beforeMeetingTime,&#10;            after_meeting: c.notifications.afterMeeting,&#10;            action_items_due: c.notifications.actionItemsDue,&#10;            decision_follow_up: c.notifications.decisionFollowUp,&#10;        },&#10;        automation: {&#10;            auto_create_tasks: c.automation.autoCreateTasks,&#10;            task_priority: c.automation.taskPriority,&#10;            default_assignee: c.automation.defaultAssignee,&#10;            sync_with_calendar: c.automation.syncWithCalendar,&#10;        },&#10;        templates: {&#10;            default_template: c.templates.defaultTemplate,&#10;            custom_templates: c.templates.customTemplates,&#10;        },&#10;    };&#10;}&#10;&#10;// API parameter types&#10;export type ListMeetingsParams = {&#10;    skip?: number;&#10;    limit?: number;&#10;    status?: string | null;&#10;    department?: string | null;&#10;    search?: string | null;&#10;};&#10;&#10;// Query builder utility&#10;function buildQuery(params: Record&lt;string, any&gt;) {&#10;    const q = new URLSearchParams();&#10;    Object.entries(params).forEach(([k, v]) =&gt; {&#10;        if (v === undefined) return;&#10;        if (v === null) {&#10;            q.append(k, '');&#10;        } else {&#10;            q.append(k, String(v));&#10;        }&#10;    });&#10;    const s = q.toString();&#10;    return s ? `?${s}` : '';&#10;}&#10;&#10;// API methods&#10;export const meetingsApi = {&#10;    async list(params: ListMeetingsParams = {}) {&#10;        const { skip = 0, limit = 100, ...filters } = params;&#10;        const query = buildQuery({ skip, limit, ...filters });&#10;        const data = await apiRequest&lt;{ meetings: BackendMeeting[]; total: number }&gt;(`/work/meetings/${query}`);&#10;        return {&#10;            meetings: data.meetings.map(mapBackendMeeting),&#10;            total: data.total&#10;        };&#10;    },&#10;&#10;    async getById(id: string) {&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`work/meetings/${id}`);&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async create(meeting: Partial&lt;Meeting&gt;) {&#10;        const payload = mapFrontendToBackendMeetingCreate(meeting);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async update(id: string, updates: Partial&lt;Meeting&gt;) {&#10;        const payload = mapFrontendToBackendMeetingUpdate(updates);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${id}`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async remove(id: string) {&#10;        await apiRequest&lt;void&gt;(`/work/meetings/${id}`, {&#10;            method: 'DELETE'&#10;        });&#10;    },&#10;&#10;    async addDecision(meetingId: string, decision: Decision) {&#10;        const payload = mapFrontendToBackendDecision(decision);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/decisions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async addActionItem(meetingId: string, actionItem: ActionItem) {&#10;        const payload = mapFrontendToBackendActionItem(actionItem);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/action-items`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async updateActionItemStatus(meetingId: string, itemId: string, status: string) {&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/action-items/${itemId}`, {&#10;            method: 'PATCH',&#10;            body: JSON.stringify({ status }),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async getConfig() {&#10;        const data = await apiRequest&lt;BackendMeetingConfig&gt;(`/work/meetings/config/default`);&#10;        return mapBackendMeetingConfig(data);&#10;    },&#10;&#10;    async saveConfig(config: MeetingConfig) {&#10;        const payload = mapFrontendToBackendMeetingConfig(config);&#10;        await apiRequest&lt;void&gt;(`/work/meetings/config/default`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(payload),&#10;        });&#10;    },&#10;&#10;    async getStats() {&#10;        return apiRequest&lt;any&gt;(`/work/meetings/stats/overview`);&#10;    },&#10;};" />
              <option name="updatedContent" value="import { apiRequest } from './client';&#10;import { normalizeListResponse } from './normalize';&#10;import { Meeting, MeetingConfig, Decision, ActionItem, AgendaItem, DiscussionItem, RiskItem } from '@/types';&#10;&#10;// Backend types (snake_case)&#10;export type BackendMeeting = {&#10;    id: string;&#10;    title: string;&#10;    date: string;&#10;    start_time: string;&#10;    end_time: string;&#10;    platform: string;&#10;    location: string;&#10;    department: string[];&#10;    meeting_type: string;&#10;    called_by: string;&#10;    facilitator: string;&#10;    minute_taker: string;&#10;    participants: string[];&#10;    absent: string[];&#10;    status: string;&#10;&#10;    // Structured sections&#10;    purpose: string;&#10;    agenda: BackendAgendaItem[];&#10;    discussion: BackendDiscussionItem[];&#10;    decisions: BackendDecision[];&#10;    action_items: BackendActionItem[];&#10;    risks: BackendRiskItem[];&#10;    attachments: string[];&#10;&#10;    created_by: string;&#10;    created_at: string;&#10;    updated_at: string;&#10;};&#10;&#10;export type BackendAgendaItem = {&#10;    id: string;&#10;    topic: string;&#10;    presenter: string;&#10;    duration: string;&#10;    notes?: string;&#10;};&#10;&#10;export type BackendDiscussionItem = {&#10;    id: string;&#10;    topic: string;&#10;    speaker: string;&#10;    points: string[];&#10;    timestamp?: string;&#10;};&#10;&#10;export type BackendDecision = {&#10;    id: string;&#10;    topic: string;&#10;    decision: string;&#10;    rationale?: string;&#10;    voted: string[];&#10;    opposed: string[];&#10;    abstained: string[];&#10;};&#10;&#10;export type BackendActionItem = {&#10;    id: string;&#10;    item: string;&#10;    owner: string;&#10;    due_date: string;&#10;    status: string;&#10;    priority: string;&#10;};&#10;&#10;export type BackendRiskItem = {&#10;    id: string;&#10;    risk: string;&#10;    impact: string;&#10;    likelihood: string;&#10;    mitigation: string;&#10;    owner: string;&#10;};&#10;&#10;export type BackendMeetingCreate = Omit&lt;BackendMeeting, 'id' | 'created_at' | 'updated_at'&gt;;&#10;export type BackendMeetingUpdate = Partial&lt;BackendMeetingCreate&gt;;&#10;&#10;export type BackendMeetingConfig = {&#10;    id: string;&#10;    notifications: {&#10;        before_meeting: boolean;&#10;        before_meeting_time: number;&#10;        after_meeting: boolean;&#10;        action_items_due: boolean;&#10;        decision_follow_up: boolean;&#10;    };&#10;    automation: {&#10;        auto_create_tasks: boolean;&#10;        task_priority: string;&#10;        default_assignee: string;&#10;        sync_with_calendar: boolean;&#10;    };&#10;    templates: {&#10;        default_template: string;&#10;        custom_templates: string[];&#10;    };&#10;};&#10;&#10;// Mapping functions&#10;export function mapBackendMeeting(m: BackendMeeting): Meeting {&#10;    return {&#10;        id: m.id,&#10;        title: m.title,&#10;        date: m.date,&#10;        startTime: m.start_time,&#10;        endTime: m.end_time,&#10;        platform: m.platform,&#10;        location: m.location,&#10;        department: m.department,&#10;        meetingType: m.meeting_type,&#10;        calledBy: m.called_by,&#10;        facilitator: m.facilitator,&#10;        minuteTaker: m.minute_taker,&#10;        participants: m.participants,&#10;        absent: m.absent,&#10;        status: m.status as Meeting['status'],&#10;&#10;        purpose: m.purpose,&#10;        agenda: m.agenda?.map(mapBackendAgendaItem) || [],&#10;        discussion: m.discussion?.map(mapBackendDiscussionItem) || [],&#10;        decisions: m.decisions?.map(mapBackendDecision) || [],&#10;        actionItems: m.action_items?.map(mapBackendActionItem) || [],&#10;        risks: m.risks?.map(mapBackendRiskItem) || [],&#10;        attachments: m.attachments || [],&#10;&#10;        createdBy: m.created_by,&#10;        createdAt: m.created_at,&#10;        updatedAt: m.updated_at,&#10;    };&#10;}&#10;&#10;export function mapBackendAgendaItem(a: BackendAgendaItem): AgendaItem {&#10;    return {&#10;        id: a.id,&#10;        topic: a.topic,&#10;        presenter: a.presenter,&#10;        duration: a.duration,&#10;        notes: a.notes,&#10;    };&#10;}&#10;&#10;export function mapBackendDiscussionItem(d: BackendDiscussionItem): DiscussionItem {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        speaker: d.speaker,&#10;        points: d.points,&#10;        timestamp: d.timestamp,&#10;    };&#10;}&#10;&#10;export function mapBackendDecision(d: BackendDecision): Decision {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        decision: d.decision,&#10;        rationale: d.rationale,&#10;        voted: d.voted,&#10;        opposed: d.opposed,&#10;        abstained: d.abstained,&#10;    };&#10;}&#10;&#10;export function mapBackendActionItem(a: BackendActionItem): ActionItem {&#10;    return {&#10;        id: a.id,&#10;        item: a.item,&#10;        owner: a.owner,&#10;        dueDate: a.due_date,&#10;        status: a.status as ActionItem['status'],&#10;        priority: a.priority as ActionItem['priority'],&#10;    };&#10;}&#10;&#10;export function mapBackendRiskItem(r: BackendRiskItem): RiskItem {&#10;    return {&#10;        id: r.id,&#10;        risk: r.risk,&#10;        impact: r.impact as RiskItem['impact'],&#10;        likelihood: r.likelihood as RiskItem['likelihood'],&#10;        mitigation: r.mitigation,&#10;        owner: r.owner,&#10;    };&#10;}&#10;&#10;export function mapBackendMeetingConfig(c: BackendMeetingConfig): MeetingConfig {&#10;    return {&#10;        id: c.id,&#10;        notifications: {&#10;            beforeMeeting: c.notifications.before_meeting,&#10;            beforeMeetingTime: c.notifications.before_meeting_time,&#10;            afterMeeting: c.notifications.after_meeting,&#10;            actionItemsDue: c.notifications.action_items_due,&#10;            decisionFollowUp: c.notifications.decision_follow_up,&#10;        },&#10;        automation: {&#10;            autoCreateTasks: c.automation.auto_create_tasks,&#10;            taskPriority: c.automation.task_priority,&#10;            defaultAssignee: c.automation.default_assignee,&#10;            syncWithCalendar: c.automation.sync_with_calendar,&#10;        },&#10;        templates: {&#10;            defaultTemplate: c.templates.default_template,&#10;            customTemplates: c.templates.custom_templates,&#10;        },&#10;    };&#10;}&#10;&#10;// Frontend to Backend mapping&#10;export function mapFrontendToBackendMeetingCreate(m: Partial&lt;Meeting&gt;): BackendMeetingCreate {&#10;    return {&#10;        title: m.title || '',&#10;        date: m.date || new Date().toISOString().split('T')[0],&#10;        start_time: m.startTime || '09:00',&#10;        end_time: m.endTime || '10:00',&#10;        platform: m.platform || '',&#10;        location: m.location || '',&#10;        department: m.department || [],&#10;        meeting_type: m.meetingType || '',&#10;        called_by: m.calledBy || '',&#10;        facilitator: m.facilitator || '',&#10;        minute_taker: m.minuteTaker || '',&#10;        participants: m.participants || [],&#10;        absent: m.absent || [],&#10;        status: (m.status as any) || 'Scheduled',&#10;&#10;        purpose: m.purpose || '',&#10;        agenda: m.agenda?.map(mapFrontendToBackendAgendaItem) || [],&#10;        discussion: m.discussion?.map(mapFrontendToBackendDiscussionItem) || [],&#10;        decisions: m.decisions?.map(mapFrontendToBackendDecision) || [],&#10;        action_items: m.actionItems?.map(mapFrontendToBackendActionItem) || [],&#10;        risks: m.risks?.map(mapFrontendToBackendRiskItem) || [],&#10;        attachments: m.attachments || [],&#10;&#10;        created_by: m.createdBy || '',&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendMeetingUpdate(m: Partial&lt;Meeting&gt;): BackendMeetingUpdate {&#10;    const payload: BackendMeetingUpdate = {};&#10;&#10;    if (m.title !== undefined) payload.title = m.title;&#10;    if (m.date !== undefined) payload.date = m.date;&#10;    if (m.startTime !== undefined) payload.start_time = m.startTime;&#10;    if (m.endTime !== undefined) payload.end_time = m.endTime;&#10;    if (m.platform !== undefined) payload.platform = m.platform;&#10;    if (m.location !== undefined) payload.location = m.location;&#10;    if (m.department !== undefined) payload.department = m.department;&#10;    if (m.meetingType !== undefined) payload.meeting_type = m.meetingType;&#10;    if (m.calledBy !== undefined) payload.called_by = m.calledBy;&#10;    if (m.facilitator !== undefined) payload.facilitator = m.facilitator;&#10;    if (m.minuteTaker !== undefined) payload.minute_taker = m.minuteTaker;&#10;    if (m.participants !== undefined) payload.participants = m.participants;&#10;    if (m.absent !== undefined) payload.absent = m.absent;&#10;    if (m.status !== undefined) payload.status = m.status as any;&#10;    if (m.purpose !== undefined) payload.purpose = m.purpose;&#10;    if (m.agenda !== undefined) payload.agenda = m.agenda?.map(mapFrontendToBackendAgendaItem) || [];&#10;    if (m.discussion !== undefined) payload.discussion = m.discussion?.map(mapFrontendToBackendDiscussionItem) || [];&#10;    if (m.decisions !== undefined) payload.decisions = m.decisions?.map(mapFrontendToBackendDecision) || [];&#10;    if (m.actionItems !== undefined) payload.action_items = m.actionItems?.map(mapFrontendToBackendActionItem) || [];&#10;    if (m.risks !== undefined) payload.risks = m.risks?.map(mapFrontendToBackendRiskItem) || [];&#10;    if (m.attachments !== undefined) payload.attachments = m.attachments || [];&#10;&#10;    return payload;&#10;}&#10;&#10;// Helper mapping functions for sub-items&#10;export function mapFrontendToBackendAgendaItem(a: AgendaItem): BackendAgendaItem {&#10;    return {&#10;        id: a.id,&#10;        topic: a.topic,&#10;        presenter: a.presenter,&#10;        duration: a.duration,&#10;        notes: a.notes,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendDiscussionItem(d: DiscussionItem): BackendDiscussionItem {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        speaker: d.speaker,&#10;        points: d.points,&#10;        timestamp: d.timestamp,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendDecision(d: Decision): BackendDecision {&#10;    return {&#10;        id: d.id,&#10;        topic: d.topic,&#10;        decision: d.decision,&#10;        rationale: d.rationale,&#10;        voted: d.voted,&#10;        opposed: d.opposed,&#10;        abstained: d.abstained,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendActionItem(a: ActionItem): BackendActionItem {&#10;    return {&#10;        id: a.id,&#10;        item: a.item,&#10;        owner: a.owner,&#10;        due_date: a.dueDate,&#10;        status: a.status,&#10;        priority: a.priority,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendRiskItem(r: RiskItem): BackendRiskItem {&#10;    return {&#10;        id: r.id,&#10;        risk: r.risk,&#10;        impact: r.impact,&#10;        likelihood: r.likelihood,&#10;        mitigation: r.mitigation,&#10;        owner: r.owner,&#10;    };&#10;}&#10;&#10;export function mapFrontendToBackendMeetingConfig(c: MeetingConfig): BackendMeetingConfig {&#10;    return {&#10;        id: c.id,&#10;        notifications: {&#10;            before_meeting: c.notifications.beforeMeeting,&#10;            before_meeting_time: c.notifications.beforeMeetingTime,&#10;            after_meeting: c.notifications.afterMeeting,&#10;            action_items_due: c.notifications.actionItemsDue,&#10;            decision_follow_up: c.notifications.decisionFollowUp,&#10;        },&#10;        automation: {&#10;            auto_create_tasks: c.automation.autoCreateTasks,&#10;            task_priority: c.automation.taskPriority,&#10;            default_assignee: c.automation.defaultAssignee,&#10;            sync_with_calendar: c.automation.syncWithCalendar,&#10;        },&#10;        templates: {&#10;            default_template: c.templates.defaultTemplate,&#10;            custom_templates: c.templates.customTemplates,&#10;        },&#10;    };&#10;}&#10;&#10;// API parameter types&#10;export type ListMeetingsParams = {&#10;    skip?: number;&#10;    limit?: number;&#10;    status?: string | null;&#10;    department?: string | null;&#10;    search?: string | null;&#10;};&#10;&#10;// Query builder utility&#10;function buildQuery(params: Record&lt;string, any&gt;) {&#10;    const q = new URLSearchParams();&#10;    Object.entries(params).forEach(([k, v]) =&gt; {&#10;        if (v === undefined) return;&#10;        if (v === null) {&#10;            q.append(k, '');&#10;        } else {&#10;            q.append(k, String(v));&#10;        }&#10;    });&#10;    const s = q.toString();&#10;    return s ? `?${s}` : '';&#10;}&#10;&#10;// API methods&#10;export const meetingsApi = {&#10;    async list(params: ListMeetingsParams = {}) {&#10;        const { skip = 0, limit = 100, ...filters } = params;&#10;        const query = buildQuery({ skip, limit, ...filters });&#10;        const data = await apiRequest(`/work/meetings/${query}`);&#10;        const normalized = normalizeListResponse&lt;BackendMeeting&gt;(data);&#10;        return {&#10;            meetings: (normalized.items || []).map(mapBackendMeeting),&#10;            total: normalized.total&#10;        };&#10;    },&#10;&#10;    async getById(id: string) {&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`work/meetings/${id}`);&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async create(meeting: Partial&lt;Meeting&gt;) {&#10;        const payload = mapFrontendToBackendMeetingCreate(meeting);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async update(id: string, updates: Partial&lt;Meeting&gt;) {&#10;        const payload = mapFrontendToBackendMeetingUpdate(updates);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${id}`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async remove(id: string) {&#10;        await apiRequest&lt;void&gt;(`/work/meetings/${id}`, {&#10;            method: 'DELETE'&#10;        });&#10;    },&#10;&#10;    async addDecision(meetingId: string, decision: Decision) {&#10;        const payload = mapFrontendToBackendDecision(decision);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/decisions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async addActionItem(meetingId: string, actionItem: ActionItem) {&#10;        const payload = mapFrontendToBackendActionItem(actionItem);&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/action-items`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(payload),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async updateActionItemStatus(meetingId: string, itemId: string, status: string) {&#10;        const data = await apiRequest&lt;BackendMeeting&gt;(`/work/meetings/${meetingId}/action-items/${itemId}`, {&#10;            method: 'PATCH',&#10;            body: JSON.stringify({ status }),&#10;        });&#10;        return mapBackendMeeting(data);&#10;    },&#10;&#10;    async getConfig() {&#10;        const data = await apiRequest&lt;BackendMeetingConfig&gt;(`/work/meetings/config/default`);&#10;        return mapBackendMeetingConfig(data);&#10;    },&#10;&#10;    async saveConfig(config: MeetingConfig) {&#10;        const payload = mapFrontendToBackendMeetingConfig(config);&#10;        await apiRequest&lt;void&gt;(`/work/meetings/config/default`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(payload),&#10;        });&#10;    },&#10;&#10;    async getStats() {&#10;        return apiRequest&lt;any&gt;(`/work/meetings/stats/overview`);&#10;    },&#10;};" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/api/problems.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/api/problems.ts" />
              <option name="originalContent" value="import {apiRequest} from &quot;@/lib/api/client&quot;;&#10;&#10;export interface Problem {&#10;    id: string;&#10;    title: string;&#10;    department: string;&#10;    reported_by: string;&#10;    date_detected: string;&#10;    category: string;&#10;    severity: string;&#10;    impact_description: string;&#10;    root_cause?: any;&#10;    corrective_actions?: any[];&#10;    preventive_actions?: any[];&#10;    linked_project?: string;&#10;    linked_task?: string;&#10;    owner: string;&#10;    status: string;&#10;    closure_date?: string;&#10;    verified_by?: string;&#10;    lesson_learned?: string;&#10;    created_at: string;&#10;    updated_at?: string;&#10;}&#10;&#10;export interface ProblemCreate {&#10;    title: string;&#10;    department: string;&#10;    reported_by: string;&#10;    date_detected: string;&#10;    category: string;&#10;    severity: string;&#10;    impact_description: string;&#10;    root_cause: {&#10;        problem_statement: string;&#10;        whys: string[];&#10;        root_cause: string;&#10;    };&#10;    corrective_actions: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status: string;&#10;        proof: string[] | null;&#10;    }&gt;;&#10;    preventive_actions: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status: string;&#10;        proof: string[] | null;&#10;    }&gt;;&#10;    linked_project: string | null;&#10;    linked_task: string | null;&#10;    owner: string;&#10;    status: string;&#10;    closure_date: null;&#10;    verified_by: null;&#10;    lesson_learned: null;&#10;}&#10;&#10;export interface ProblemUpdate {&#10;    title?: string;&#10;    department?: string;&#10;    reported_by?: string;&#10;    date_detected?: string;&#10;    category?: string;&#10;    severity?: string;&#10;    impact_description?: string;&#10;    root_cause?: any;&#10;    corrective_actions?: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status?: string;&#10;        proof?: string[];&#10;    }&gt;;&#10;    preventive_actions?: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status?: string;&#10;        proof?: string[];&#10;    }&gt;;&#10;    linked_project?: string;&#10;    linked_task?: string;&#10;    owner?: string;&#10;    status?: string;&#10;    closure_date?: string;&#10;    verified_by?: string;&#10;    lesson_learned?: string;&#10;}&#10;&#10;export interface CorrectiveActionCreate {&#10;    description: string;&#10;    assigned_to: string;&#10;    due_date: string;&#10;    status?: string;&#10;    proof?: string[];&#10;}&#10;&#10;export interface PreventiveActionCreate {&#10;    description: string;&#10;    assigned_to: string;&#10;    due_date: string;&#10;    status?: string;&#10;    proof?: string[];&#10;}&#10;&#10;export interface FiveWhysCreate {&#10;    problem_statement: string;&#10;    whys: string[];&#10;    root_cause: string;&#10;}&#10;&#10;export interface ActionStatusUpdate {&#10;    status: string;&#10;}&#10;&#10;export interface ProblemKPI {&#10;    active_problems: number;&#10;    closed_problems: number;&#10;    recurring_problems: number;&#10;    avg_resolution_time: number;&#10;    effectiveness_rate: number;&#10;    lessons_published: number;&#10;}&#10;&#10;export interface ProblemAnalytics {&#10;    frequency_by_category: Array&lt;{ category: string; count: number }&gt;;&#10;    resolution_time_by_department: Array&lt;{ department: string; days: number }&gt;;&#10;    severity_vs_frequency: Array&lt;{ severity: string; frequency: number }&gt;;&#10;    recurrence_rate: number;&#10;    department_performance: Array&lt;{ department: string; closure_rate: number }&gt;;&#10;    knowledge_conversion: number;&#10;}&#10;&#10;export interface ProblemFilterParams {&#10;    department?: string;&#10;    category?: string;&#10;    severity?: string;&#10;    status?: string;&#10;    owner?: string;&#10;    date_from?: string;&#10;    date_to?: string;&#10;}&#10;&#10;export interface ProblemListResponse {&#10;    problems: Problem[];&#10;    total: number;&#10;    page: number;&#10;    pages: number;&#10;}&#10;&#10;class ProblemsApi {&#10;    private buildQueryString(params: Record&lt;string, any&gt;): string {&#10;        const queryParams = new URLSearchParams();&#10;        Object.entries(params).forEach(([key, value]) =&gt; {&#10;            if (value !== null &amp;&amp; value !== undefined) {&#10;                queryParams.append(key, String(value));&#10;            }&#10;        });&#10;        const query = queryParams.toString();&#10;        return query ? `?${query}` : '';&#10;    }&#10;&#10;    async list(params: {&#10;        skip?: number;&#10;        limit?: number;&#10;        department?: string | null;&#10;        category?: string | null;&#10;        severity?: string | null;&#10;        status?: string | null;&#10;        owner?: string | null;&#10;        search?: string | null;&#10;        date_from?: string | null;&#10;        date_to?: string | null;&#10;    }): Promise&lt;ProblemListResponse&gt; {&#10;        const {&#10;            skip = 0,&#10;            limit = 100,&#10;            department,&#10;            category,&#10;            severity,&#10;            status,&#10;            owner,&#10;            search,&#10;            date_from,&#10;            date_to&#10;        } = params;&#10;&#10;        const queryParams: Record&lt;string, any&gt; = { skip, limit };&#10;        if (department) queryParams.department = department;&#10;        if (category) queryParams.category = category;&#10;        if (severity) queryParams.severity = severity;&#10;        if (status) queryParams.status = status;&#10;        if (owner) queryParams.owner = owner;&#10;        if (search) queryParams.search = search;&#10;        if (date_from) queryParams.date_from = date_from;&#10;        if (date_to) queryParams.date_to = date_to;&#10;&#10;        const queryString = this.buildQueryString(queryParams);&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/${queryString}`);&#10;    }&#10;&#10;    async filter(params: ProblemFilterParams &amp; { skip?: number; limit?: number }): Promise&lt;ProblemListResponse&gt; {&#10;        const { skip = 0, limit = 100, ...filterParams } = params;&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/filter${queryString}`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(filterParams)&#10;        });&#10;    }&#10;&#10;    async getById(id: string): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${id}`);&#10;    }&#10;&#10;    async create(data: ProblemCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;('/work/problems/', {&#10;            method: 'POST',&#10;            body: JSON.stringify(data)&#10;        });&#10;    }&#10;&#10;    async update(id: string, data: ProblemUpdate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${id}`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(data)&#10;        });&#10;    }&#10;&#10;    async remove(id: string): Promise&lt;void&gt; {&#10;        return apiRequest&lt;void&gt;(`/work/problems/${id}`, {&#10;            method: 'DELETE'&#10;        });&#10;    }&#10;&#10;    async addCorrectiveAction(problemId: string, action: CorrectiveActionCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/corrective-actions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(action)&#10;        });&#10;    }&#10;&#10;    async addPreventiveAction(problemId: string, action: PreventiveActionCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/preventive-actions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(action)&#10;        });&#10;    }&#10;&#10;    async updateActionStatus(&#10;        problemId: string,&#10;        actionId: string,&#10;        actionType: 'corrective' | 'preventive',&#10;        status: string&#10;    ): Promise&lt;Problem&gt; {&#10;        const queryString = this.buildQueryString({ action_type: actionType });&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/actions/${actionId}${queryString}`, {&#10;            method: 'PATCH',&#10;            body: JSON.stringify({ status })&#10;        });&#10;    }&#10;&#10;    async updateFiveWhys(problemId: string, fiveWhys: FiveWhysCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/five-whys`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(fiveWhys)&#10;        });&#10;    }&#10;&#10;    async closeProblem(problemId: string, lessonLearned?: string): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/close`, {&#10;            method: 'POST',&#10;            body: JSON.stringify({ lesson_learned: lessonLearned })&#10;        });&#10;    }&#10;&#10;    async getStats(): Promise&lt;any&gt; {&#10;        return apiRequest&lt;any&gt;('/work/problems/stats/overview');&#10;    }&#10;&#10;    async getKPIs(): Promise&lt;ProblemKPI&gt; {&#10;        return apiRequest&lt;ProblemKPI&gt;('/work/problems/kpis');&#10;    }&#10;&#10;    async getAnalytics(): Promise&lt;ProblemAnalytics&gt; {&#10;        return apiRequest&lt;ProblemAnalytics&gt;('/work/problems/analytics');&#10;    }&#10;&#10;    async search(query: string, limit: number = 20): Promise&lt;{ problems: Problem[]; query: string; count: number }&gt; {&#10;        const queryString = this.buildQueryString({ limit });&#10;        return apiRequest&lt;{ problems: Problem[]; query: string; count: number }&gt;(&#10;            `/work/problems/search/${query}${queryString}`&#10;        );&#10;    }&#10;&#10;    async getByDepartment(department: string, skip: number = 0, limit: number = 100): Promise&lt;ProblemListResponse&gt; {&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/department/${department}${queryString}`);&#10;    }&#10;&#10;    async getByOwner(owner: string, skip: number = 0, limit: number = 100): Promise&lt;ProblemListResponse&gt; {&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/owner/${owner}${queryString}`);&#10;    }&#10;}&#10;&#10;export const problemsApi = new ProblemsApi();" />
              <option name="updatedContent" value="import {apiRequest} from &quot;@/lib/api/client&quot;;&#10;import { normalizeListResponse } from './normalize';&#10;&#10;export interface Problem {&#10;    id: string;&#10;    title: string;&#10;    department: string;&#10;    reported_by: string;&#10;    date_detected: string;&#10;    category: string;&#10;    severity: string;&#10;    impact_description: string;&#10;    root_cause?: any;&#10;    corrective_actions?: any[];&#10;    preventive_actions?: any[];&#10;    linked_project?: string;&#10;    linked_task?: string;&#10;    owner: string;&#10;    status: string;&#10;    closure_date?: string;&#10;    verified_by?: string;&#10;    lesson_learned?: string;&#10;    created_at: string;&#10;    updated_at?: string;&#10;}&#10;&#10;export interface ProblemCreate {&#10;    title: string;&#10;    department: string;&#10;    reported_by: string;&#10;    date_detected: string;&#10;    category: string;&#10;    severity: string;&#10;    impact_description: string;&#10;    root_cause: {&#10;        problem_statement: string;&#10;        whys: string[];&#10;        root_cause: string;&#10;    };&#10;    corrective_actions: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status: string;&#10;        proof: string[] | null;&#10;    }&gt;;&#10;    preventive_actions: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status: string;&#10;        proof: string[] | null;&#10;    }&gt;;&#10;    linked_project: string | null;&#10;    linked_task: string | null;&#10;    owner: string;&#10;    status: string;&#10;    closure_date: null;&#10;    verified_by: null;&#10;    lesson_learned: null;&#10;}&#10;&#10;export interface ProblemUpdate {&#10;    title?: string;&#10;    department?: string;&#10;    reported_by?: string;&#10;    date_detected?: string;&#10;    category?: string;&#10;    severity?: string;&#10;    impact_description?: string;&#10;    root_cause?: any;&#10;    corrective_actions?: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status?: string;&#10;        proof?: string[];&#10;    }&gt;;&#10;    preventive_actions?: Array&lt;{&#10;        id: string;&#10;        description: string;&#10;        assigned_to: string;&#10;        due_date: string;&#10;        status?: string;&#10;        proof?: string[];&#10;    }&gt;;&#10;    linked_project?: string;&#10;    linked_task?: string;&#10;    owner?: string;&#10;    status?: string;&#10;    closure_date?: string;&#10;    verified_by?: string;&#10;    lesson_learned?: string;&#10;}&#10;&#10;export interface CorrectiveActionCreate {&#10;    description: string;&#10;    assigned_to: string;&#10;    due_date: string;&#10;    status?: string;&#10;    proof?: string[];&#10;}&#10;&#10;export interface PreventiveActionCreate {&#10;    description: string;&#10;    assigned_to: string;&#10;    due_date: string;&#10;    status?: string;&#10;    proof?: string[];&#10;}&#10;&#10;export interface FiveWhysCreate {&#10;    problem_statement: string;&#10;    whys: string[];&#10;    root_cause: string;&#10;}&#10;&#10;export interface ActionStatusUpdate {&#10;    status: string;&#10;}&#10;&#10;export interface ProblemKPI {&#10;    active_problems: number;&#10;    closed_problems: number;&#10;    recurring_problems: number;&#10;    avg_resolution_time: number;&#10;    effectiveness_rate: number;&#10;    lessons_published: number;&#10;}&#10;&#10;export interface ProblemAnalytics {&#10;    frequency_by_category: Array&lt;{ category: string; count: number }&gt;;&#10;    resolution_time_by_department: Array&lt;{ department: string; days: number }&gt;;&#10;    severity_vs_frequency: Array&lt;{ severity: string; frequency: number }&gt;;&#10;    recurrence_rate: number;&#10;    department_performance: Array&lt;{ department: string; closure_rate: number }&gt;;&#10;    knowledge_conversion: number;&#10;}&#10;&#10;export interface ProblemFilterParams {&#10;    department?: string;&#10;    category?: string;&#10;    severity?: string;&#10;    status?: string;&#10;    owner?: string;&#10;    date_from?: string;&#10;    date_to?: string;&#10;}&#10;&#10;export interface ProblemListResponse {&#10;    problems: Problem[];&#10;    total: number;&#10;    page: number;&#10;    pages: number;&#10;}&#10;&#10;class ProblemsApi {&#10;    private buildQueryString(params: Record&lt;string, any&gt;): string {&#10;        const queryParams = new URLSearchParams();&#10;        Object.entries(params).forEach(([key, value]) =&gt; {&#10;            if (value !== null &amp;&amp; value !== undefined) {&#10;                queryParams.append(key, String(value));&#10;            }&#10;        });&#10;        const query = queryParams.toString();&#10;        return query ? `?${query}` : '';&#10;    }&#10;&#10;    async list(params: {&#10;        skip?: number;&#10;        limit?: number;&#10;        department?: string | null;&#10;        category?: string | null;&#10;        severity?: string | null;&#10;        status?: string | null;&#10;        owner?: string | null;&#10;        search?: string | null;&#10;        date_from?: string | null;&#10;        date_to?: string | null;&#10;    }): Promise&lt;ProblemListResponse&gt; {&#10;        const {&#10;            skip = 0,&#10;            limit = 100,&#10;            department,&#10;            category,&#10;            severity,&#10;            status,&#10;            owner,&#10;            search,&#10;            date_from,&#10;            date_to&#10;        } = params;&#10;&#10;        const queryParams: Record&lt;string, any&gt; = { skip, limit };&#10;        if (department) queryParams.department = department;&#10;        if (category) queryParams.category = category;&#10;        if (severity) queryParams.severity = severity;&#10;        if (status) queryParams.status = status;&#10;        if (owner) queryParams.owner = owner;&#10;        if (search) queryParams.search = search;&#10;        if (date_from) queryParams.date_from = date_from;&#10;        if (date_to) queryParams.date_to = date_to;&#10;&#10;        const queryString = this.buildQueryString(queryParams);&#10;        const data = await apiRequest(`/work/problems/${queryString}`);&#10;        const normalized = normalizeListResponse&lt;Problem&gt;(data);&#10;        return {&#10;            problems: normalized.items,&#10;            total: normalized.total,&#10;            page: 1,&#10;            pages: Math.ceil((normalized.total || normalized.items.length) / (queryParams.limit || 100)),&#10;        };&#10;    }&#10;&#10;    async filter(params: ProblemFilterParams &amp; { skip?: number; limit?: number }): Promise&lt;ProblemListResponse&gt; {&#10;        const { skip = 0, limit = 100, ...filterParams } = params;&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        const data = await apiRequest(`/work/problems/filter${queryString}`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(filterParams)&#10;        });&#10;        const normalized = normalizeListResponse&lt;Problem&gt;(data);&#10;        return {&#10;            problems: normalized.items,&#10;            total: normalized.total,&#10;            page: 1,&#10;            pages: Math.ceil((normalized.total || normalized.items.length) / (limit || 100)),&#10;        };&#10;    }&#10;&#10;    async getById(id: string): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${id}`);&#10;    }&#10;&#10;    async create(data: ProblemCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;('/work/problems/', {&#10;            method: 'POST',&#10;            body: JSON.stringify(data)&#10;        });&#10;    }&#10;&#10;    async update(id: string, data: ProblemUpdate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${id}`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(data)&#10;        });&#10;    }&#10;&#10;    async remove(id: string): Promise&lt;void&gt; {&#10;        return apiRequest&lt;void&gt;(`/work/problems/${id}`, {&#10;            method: 'DELETE'&#10;        });&#10;    }&#10;&#10;    async addCorrectiveAction(problemId: string, action: CorrectiveActionCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/corrective-actions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(action)&#10;        });&#10;    }&#10;&#10;    async addPreventiveAction(problemId: string, action: PreventiveActionCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/preventive-actions`, {&#10;            method: 'POST',&#10;            body: JSON.stringify(action)&#10;        });&#10;    }&#10;&#10;    async updateActionStatus(&#10;        problemId: string,&#10;        actionId: string,&#10;        actionType: 'corrective' | 'preventive',&#10;        status: string&#10;    ): Promise&lt;Problem&gt; {&#10;        const queryString = this.buildQueryString({ action_type: actionType });&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/actions/${actionId}${queryString}`, {&#10;            method: 'PATCH',&#10;            body: JSON.stringify({ status })&#10;        });&#10;    }&#10;&#10;    async updateFiveWhys(problemId: string, fiveWhys: FiveWhysCreate): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/five-whys`, {&#10;            method: 'PUT',&#10;            body: JSON.stringify(fiveWhys)&#10;        });&#10;    }&#10;&#10;    async closeProblem(problemId: string, lessonLearned?: string): Promise&lt;Problem&gt; {&#10;        return apiRequest&lt;Problem&gt;(`/work/problems/${problemId}/close`, {&#10;            method: 'POST',&#10;            body: JSON.stringify({ lesson_learned: lessonLearned })&#10;        });&#10;    }&#10;&#10;    async getStats(): Promise&lt;any&gt; {&#10;        return apiRequest&lt;any&gt;('/work/problems/stats/overview');&#10;    }&#10;&#10;    async getKPIs(): Promise&lt;ProblemKPI&gt; {&#10;        return apiRequest&lt;ProblemKPI&gt;('/work/problems/kpis');&#10;    }&#10;&#10;    async getAnalytics(): Promise&lt;ProblemAnalytics&gt; {&#10;        return apiRequest&lt;ProblemAnalytics&gt;('/work/problems/analytics');&#10;    }&#10;&#10;    async search(query: string, limit: number = 20): Promise&lt;{ problems: Problem[]; query: string; count: number }&gt; {&#10;        const queryString = this.buildQueryString({ limit });&#10;        return apiRequest&lt;{ problems: Problem[]; query: string; count: number }&gt;(&#10;            `/work/problems/search/${query}${queryString}`&#10;        );&#10;    }&#10;&#10;    async getByDepartment(department: string, skip: number = 0, limit: number = 100): Promise&lt;ProblemListResponse&gt; {&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/department/${department}${queryString}`);&#10;    }&#10;&#10;    async getByOwner(owner: string, skip: number = 0, limit: number = 100): Promise&lt;ProblemListResponse&gt; {&#10;        const queryString = this.buildQueryString({ skip, limit });&#10;        return apiRequest&lt;ProblemListResponse&gt;(`/work/problems/owner/${owner}${queryString}`);&#10;    }&#10;}&#10;&#10;export const problemsApi = new ProblemsApi();" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>